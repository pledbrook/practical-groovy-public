<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<title>Working with types</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{font-weight: normal}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#00}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book">
<div id="header">
<h1>Working with types</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Numbers are an important part of programming. Ultimately, computers <em>only</em> deal with numbers. As humans, though, we prefer some higher level types such as strings. In this chapter, I&#8217;ll show you how to use and interact with strings, collections, and maps. I&#8217;ll also introduce some other concepts such as fields and properties.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_joy_of_strings">The joy of strings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>History has been recorded in the form of text for thousands of years - in stone, on paper, and now electronically. In that time, words have lost none of their power or usefulness. That&#8217;s why a basic type representing text is such a fundamental part of any programming language. And of course that type should be able to handle any language.</p>
</div>
<div class="paragraph">
<p>Groovy uses Java&#8217;s <a href="https://docs.oracle.com/javase/8/docs/api/?java/lang/String.html"><code>java.lang.String</code></a> class which is able to represent text in any written language supported by Unicode, or more specifically the 16-bit Unicode Transformation Format (UTF-16). If you&#8217;re interested, you can find a full list of supported scripts/alphabets <a href="http://www.unicode.org/standard/supported.html">on the Unicode website</a>. I&#8217;ll be using the latin alphabet almost exclusively in this book, but you can try this short script in the Groovy console to confirm support for other languages:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>println "I live in London"
println "我住在北京"
println "ฉันอาศัยอยู่ในกรุงเทพฯ"
println "Ζω στην Αθήνα"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above consists of English, Chinese (Simplified), Thai, and Greek (using Google Translate of course - I only wish I could write in so many diverse languages!). Just bear in mind that you need a text editor or IDE that supports UTF-8 if you want to use non-Latin characters in Groovy source code. This is because the Groovy compiler assumes UTF-8 by default.</p>
</div>
<div class="paragraph">
<p>It&#8217;s quite possible to write a book about character encodings and internationalization, but it&#8217;s out of scope for a Groovy language introduction. So from here on in, I&#8217;ll be sticking to examples based on English. That will certainly make life easy for the next example which will involve some text analysis.</p>
</div>
<div class="sect2">
<h3 id="_strings_are_sequences">Strings are sequences</h3>
<div class="paragraph">
<p>What is text? It&#8217;s inherently a sequence of characters, which means you can evaluate its length, reorder it, extract substrings and count the number of vowels or consonants in it. It also means you can iterate over the characters.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s see how this works in Groovy. We start with a piece of text (a string), evaluate the properties we just described (length, etc.) and then print that information out:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def text = "Jack Rabbit Slims Twist Contest"
println "Text length: " + text.size()        <b class="conum">(1)</b>
println "First character: " + text[0]        <b class="conum">(2)</b>
println "Last character: " + text[-1]

final vowels = "aeiou"                       <b class="conum">(3)</b>
def vowelCount = 0
for (ch in text) {                           <b class="conum">(4)</b>
    if (vowels.contains(ch.toLowerCase())) {
        vowelCount++
    }
}

println "Number of vowels: " + vowelCount</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Concatenate strings with the <code>+</code> operator</p>
</li>
<li>
<p>Access individual characters</p>
</li>
<li>
<p>Declare a constant using <code>final</code></p>
</li>
<li>
<p>Iterate over the characters of the string</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This example introduces several properties of strings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Concatenation with <code>+</code></p>
<div class="paragraph">
<p>You can build up strings this way with any values, including numbers, lists and so on. The only requirement is that the concatenation starts with a string.</p>
</div>
</li>
<li>
<p>Text length with <code>size()</code></p>
<div class="paragraph">
<p>Java is annoying because you need to use different fields or methods to get the lengths of arrays, lists, and strings. In Groovy, you can just use the <code>size()</code> method for all types of sequence. You can find this method documented in the <a href="http://docs.groovy-lang.org/docs/next/html/groovy-jdk/?java/lang/String.html">Groovy JDK entry for String</a>.</p>
</div>
</li>
<li>
<p>Array indexing to extract characters</p>
<div class="paragraph">
<p>You can use the syntax of <code>[index]</code> on any type of sequence to pick out a particular element. The first element of a sequence is at index 0. If you want to index from the end of a sequence, use a negative number. So -1 represents the last element, -2 the second to last, and so on.</p>
</div>
<div class="paragraph">
<p>One thing to note is that the array index operator returns a single character string in this case, rather than a <code>java.lang.Character</code>. You can verify this by adding a line <code>println text[0].getClass()</code> to the script. I&#8217;ll discuss the <code>Character</code> type shortly as Groovy is noticeably different from Java on this score.</p>
</div>
</li>
<li>
<p>Looping with <code>for</code></p>
<div class="paragraph">
<p>The standard Groovy <code>for</code> loop works on any type of sequence, just like the array index operator. And similarly, each iteration gives you a single character string to work with instead of a <code>Character</code>. If you want to be more explicit you can include the type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>for (String ch in text) {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This does of course raise the question of when to explicitly specify the type of the iteration variable. It&#8217;s a question that always crops up with Groovy because of its optional typing, hence why I discuss it more thoroughly in chapter [TODO] once you know most of the basics. In this particular case, it&#8217;s easy to infer the type of <code>ch</code> and so the type isn&#8217;t necessary. But some people may be more comfortable with it being explicit, and that&#8217;s fine too.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>I just want to finish off this section by identifying the source of the string methods used in the example. I&#8217;ve already mentioned that <code>size()</code> is provided by the Groovy JDK, but so is <code>toLowerCase()</code>, which returns a new string with all letters lower-cased. The <code>contains()</code> method is different because it is provided by the JDK itself.</p>
</div>
<div class="paragraph">
<p>This sort of thing can be frustrating: how are you supposed to know where to find these methods in the API docs? The best advice is to stay calm and just look at both the Java API and Groovy JDK docs when searching for a method. Alternatively, use an IDE that will give you auto completion: Eclipse, IntelliJ and NetBeans all have great Groovy integration. As you become more familiar with the APIs, you&#8217;ll learn where the various methods come from.</p>
</div>
<div class="paragraph">
<p>Before moving on, there is one improvement I&#8217;d like to make to the script. I like things to be formatted so that they are more readable. The summary of the text analysis just doesn&#8217;t cut it at the moment as the values are misaligned. We can easily remedy that in Groovy using one of its methods related to padding. In this case, we want to pad the labels so that the values all appear left-aligned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def text = "Jack Rabbit Slims Twist Contest"
final padding = 20
println "Text length: ".padRight(padding) + text.size()
println "First character: ".padRight(padding) + text[0]
println "Last character: ".padRight(padding) + text[-1]
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>You could also try right-aligning the labels by using the <code>padLeft()</code> method instead.</p>
</div>
</div>
<div class="sect2">
<h3 id="_string_expansion">String expansion</h3>
<div class="paragraph">
<p>As you&#8217;ve just seen, string concatenation works just fine. That said, it does add noise to your code, particularly when there is more text than expressions. An alternative approach in Groovy is to use string expansion, by embedding expressions inside <code>${}</code> place holders:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>...
println "I found ${vowelCount} vowels in the text"</code></pre>
</div>
</div>
<div class="paragraph">
<p>I consider this to be more readable than</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>...
println "I found " + vowelCount + " vowels in the text"</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s also easier to keep track of the spaces you need. Did I remember to include the space after 'found' and the one before 'vowels'? It&#8217;s not so clear with string concatenation.</p>
</div>
<div class="paragraph">
<p>You will often see an alternative form (without the curly braces) for embedding variables:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>println "I found $vowelCount vowels in the text"</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s a little less noisy, but the expression doesn&#8217;t stand out so well. I tend to recommend to newcomers that they only use the former syntax (with curly braces) for consistency and to avoid some confusing edge cases with the latter approach. Ultimately it&#8217;s a style thing and up to you or your team.</p>
</div>
<div class="paragraph">
<p>So what happens when you want to include an actual dollar symbol in the string? Try this code snippet in the Groovy console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>println "I sent them a $1000 check by post"</code></pre>
</div>
</div>
<div class="paragraph">
<p>I see an error message:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>illegal string body character after dollar sign;
   solution: either escape a literal dollar sign "\$5" or
   bracket the value expression "${5}" at line: 1, column: 1</pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s pretty clear that Groovy&#8217;s not happy about that <code>$</code> in the string. One solution is to escape it using a backslash:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>println "I sent them a \$1000 check by post"</code></pre>
</div>
</div>
<div class="paragraph">
<p>It works, but isn&#8217;t pretty. Also imagine if you have a much larger string with lots of <code>$</code> symbols. What are the chances that you&#8217;re going to remember to escape all of them? In such cases, I prefer an alternative string literal using single quotes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>println 'I sent them a $1000 check by post'</code></pre>
</div>
</div>
<div class="paragraph">
<p>The only difference between the single-quote and double-quote versions is that the latter supports embedded expressions. It&#8217;s also important to understand that there is no memory or performance difference between the two. A double-quote string without any embedded expressions is still a plain <code>java.lang.String</code>. The decision to use one over the other then becomes one of personal preference. I prefer to use double quotes in most cases because I can easily insert an embedded expression at a later date without also changing the quotes. Others like the extra information tied to using single quotes, i.e. it is just a plain string.</p>
</div>
</div>
<div class="sect2">
<h3 id="_multi_line_strings">Multi-line strings</h3>
<div class="paragraph">
<p>This is the kind of thing that people have long discussions and arguments over, so let&#8217;s move swiftly on before we end up in the same boat. Imagine you want to include a block of text in your code - perhaps it&#8217;s an email template or long, formatted message you want to display to users. The easiest way to do this in Groovy is with a multi-line string literal:</p>
</div>
<div class="listingblock">
<div class="title">Listing 2.1</div>
<div class="content">
<pre class="CodeRay highlight"><code>def sayHello(name) {
    println """Dear ${name},

Thank you for signing up to our product. We hope you enjoy!

Kind regards,

Customer Services
"""
}

sayHello("Peter")</code></pre>
</div>
</div>
<div class="paragraph">
<p>So simply by using three quotes at the beginning and end, you&#8217;re allowed to put line breaks in the text. This is much nicer than using the <code>\n</code> new line character. Also notice how the above example includes an embedded expression: that&#8217;s because it uses double quotes. You can also use three single quotes (<code>'''</code>) instead, in which case the expression doesn&#8217;t get evaluated.</p>
</div>
<div class="paragraph">
<p>So far, so simple. But what if you don&#8217;t like aligning the text in the first column of the source file? Perhaps you&#8217;d prefer to indent it like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def sayHello(name) {
    println """Dear ${name},

        Thank you for signing up to our product. We hope you enjoy!

        Kind regards,

        Customer Services
        """
}

sayHello("Peter")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unfortunately, the spaces at the beginning of each line will end up in the output because they are part of the text. All is not lost, though! The Groovy JDK provides some extra methods that are ideal for such scenarios: <code>stripIndent()</code> and <code>stripMargin()</code>.</p>
</div>
<div class="paragraph">
<p>The first of these remove any leading whitespace that is common to all lines. The second, <code>stripMargin()</code>, removes all leading characters up to a specific character (<code>|</code> by default). We&#8217;re going to use <code>stripIndent()</code> here, but there is one thing we need to be wary of: every line has to have the leading whitespace for it to be removed. And the code as it stands doesn&#8217;t have leading whitespace for the first line!</p>
</div>
<div class="paragraph">
<p>To solve that, we&#8217;re going to use a <em>line continuation</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def sayHello(name) {
    println """\                    <b class="conum">(1)</b>
        Dear ${name},               <b class="conum">(2)</b>

        Thank you for signing up to our product. We hope you enjoy!

        Kind regards,

        Customer Services
        """.stripIndent()           <b class="conum">(3)</b>
}

sayHello("Peter")</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><code>\</code> followed by a new line cancels the line break</p>
</li>
<li>
<p>The first line of text now has leading whitespace</p>
</li>
<li>
<p>Removes the leading whitespace from each line</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>I almost always use a line continuation for the first line of multi-line strings, just to ensure nice alignment. The main issue that typically arises from this technique is the presence of spaces or tabs after the backslash. For line continuations to work, the backslash <em>must</em> be the last character of that source code line.</p>
</div>
</div>
<div class="sect2">
<h3 id="_characters_and_type_coercion">Characters and type coercion</h3>
<div class="paragraph">
<p>As you&#8217;ve seen, Groovy treats strings as if they are sequences of single-character strings. This seems a little strange as the Java class library does have a specific type representing a single character: <a href="https://docs.oracle.com/javase/8/docs/api/?java/lang/Character.html"><code>java.lang.Character</code></a>. Does this mean that you shouldn&#8217;t use <code>Character</code> from Groovy?</p>
</div>
<div class="paragraph">
<p>The simple fact is that it would be hard not to use <code>Character</code> when so many Java APIs that you might want to use rely on them. For example, if you want to check whether a character is an alphabetic letter, you can use the static <code>Character.isLetter()</code> method. It takes a <code>Character</code> as its argument. To understand the problem better, consider this example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def text = "Jack Rabbit Slims Twist Contest"
if (Character.isUpperCase(text[0])) {
    println "The text starts with a capital letter!"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Running this results in another one of those pesky missing-something exceptions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>groovy.lang.MissingMethodException: No signature of method: static java.lang.Character.isUpperCase() is applicable for argument types: (java.lang.String) values: [J]
Possible solutions: isUpperCase(), isUpperCase(char), isUpperCase(int), toUpperCase(), toUpperCase(char), toUpperCase(int)
    at ConsoleScript27.run(ConsoleScript27:2)</pre>
</div>
</div>
<div class="paragraph">
<p>As the exception says, there is no <code>isUpperCase()</code> method that takes a string. So how do you get a <code>Character</code> in Groovy? The solution lies in a multi-purpose conversion mechanism.</p>
</div>
<div class="paragraph">
<p>Groovy provides two conversion options, one implicit and the other explicit. The implicit version consists of assigning a value of one type to a local variable declared as another type. Applying this to the previous example, we get</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def text = "Jack Rabbit Slims Twist Contest"
Character ch = text[0]                         <b class="conum">(1)</b>
if (Character.isUpperCase(ch)) {
    println "The text starts with a capital letter!"
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Explicitly declare the local variable as the required type</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This approach also works for variables declared in <code>for</code> loops:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def text = "Jack Rabbit Slims Twist Contest"

def upperCount = 0
for (Character ch in text) {                           <b class="conum">(1)</b>
    if (Character.isUpperCase(ch)) {
        upperCount++
    }
}

println "There are ${upperCount} upper case letters"</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Explicitly declare the type of the loop variable</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The second, explicit, approach involves a new operator: <code>as</code>. This is particularly useful when introducing a new variable just adds noise to the code. The previous example where we introduced a new local variable would be better coded as</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def text = "Jack Rabbit Slims Twist Contest"
if (Character.isUpperCase(text[0] as Character)) {          <b class="conum">(1)</b>
    println "The text starts with a capital letter!"
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Use <code>as</code> to coerce a value to a different type</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Whichever approach you use, just be aware that it doesn&#8217;t just magically convert all types to all other types. The built-in support has limited knowledge and is mostly used for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Converting a single-character string to a <code>Character</code></p>
</li>
<li>
<p>Upgrading numbers, for example from <code>Integer</code> to <code>Long</code></p>
</li>
<li>
<p>Converting a list to an array (I&#8217;ll talk about this a little later)</p>
</li>
<li>
<p>Creating a set from a list</p>
</li>
<li>
<p>Converting pretty much anything to a <code>String</code>, since every type has a <code>toString()</code> method</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can&#8217;t, for example, assign a string with more than one character in it to a <code>Character</code> variable. You&#8217;ll get a <code>GroovyCastException</code>. That&#8217;s good because automatic coercions are very useful but can cause productivity-sapping surprises when too prevalent. And remember that coercion does not happen automatically for method arguments, even if they are explicitly typed.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Object vs primitive types</div>
<div class="paragraph">
<p>Groovy inherits Java&#8217;s type system, which means that you get both primitive and object types. For example, <code>char</code> and <code>Character</code>. These two types are interchangeable in Groovy as you can call methods on primitive types. The main difference is that object types can have a <code>null</code> value.</p>
</div>
<div class="paragraph">
<p>I tend to prefer the primitive types because they are shorter and I rarely want to allow <code>null</code> values for them. The available primitive types (and corresponding object types) are:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Primitive type</th>
<th class="tableblock halign-left valign-top">Object type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>char</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Character</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byte</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Byte</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>short</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Short</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Float</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>double</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Double</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>From this point on, I&#8217;ll use primitive types unless an object type is required for some reason.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Strings aren&#8217;t the only form of sequences. What if you want a shopping list or a simple sequence of numbers? A list is a more generic form of sequence available in Groovy and we look at that next alongside other types of collection.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_collections_ranges_and_maps">Collections, ranges and maps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When programming, we often need to deal with collections of objects, not just single instances. That&#8217;s why most languages have built-in support for lists (an ordered collection or sequence) and other types of collection. As with strings, it&#8217;s the Java class library that provides these types in Groovy. That doesn&#8217;t mean that you get the same experience as if you&#8217;re developing in Java. In fact, Groovy brings a greater level of consistency and expressiveness.</p>
</div>
<div class="paragraph">
<p>We&#8217;ll start with ordered collections, which are represented by the <a href="https://docs.oracle.com/javase/8/docs/api/?java/util/List.html"><code>java.util.List</code></a> interface. In the following example, I create a list of words (strings) and then proceed to iterate over them to calculate the shortest, longest and average word lengths. Before you critize the implementation (there are better ways to do this), remember that I&#8217;m trying to introduce new concepts and APIs gradually!</p>
</div>
<div id="wordStats" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>final words = ["orange", "sit", "test", "flabbergasted", "honorific"]   <b class="conum">(1)</b>

def minWordLength = Integer.MAX_VALUE                                   <b class="conum">(2)</b>
def maxWordLength = 0
def totalLength = 0
for (w in words) {
    minWordLength = Math.min(minWordLength, w.size())
    maxWordLength = Math.max(maxWordLength, w.size())
    totalLength += w.size()
}

println "Min word length:  ${minWordLength}"
println "Max word length:  ${maxWordLength}"
println "Avg word length:  ${totalLength / words.size()}"               <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>A list literal containing strings</p>
</li>
<li>
<p><code>MAX_VALUE</code> is a static field on <code>java.lang.Integer</code></p>
</li>
<li>
<p><code>size()</code> gives the lengths of strings <em>and</em> lists</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The first thing that will strike you if you come from Java is how easy it is to create a literal list of values. It&#8217;s simply a list of comma-separated values bounded by square brackets. We can put numbers in there, dates, or any other type. We&#8217;re not even forced to use the same type for each element, so we can create a list of mixed strings and numbers for example. That said, collections commonly contain objects of the same type.</p>
</div>
<div class="paragraph">
<p>The <code>for</code> loop also works exactly the same as for strings. If you&#8217;re trying the example out in an IDE, you might even notice that it&#8217;s not worried about the <code>w.size()</code> method (IDEs with Groovy support tend to underline methods that they can&#8217;t be sure exist on a particular object, typically because they can&#8217;t be sure what the type of that object is). That&#8217;s because Groovy infers that the list only contains strings, so therefore <code>w</code> must be a string too! This is just a taster of how Groovy straddles the usual line between dynamic and static (type-checked) languages. We&#8217;ll be delving deeper into that topic later on in chapter TODO.</p>
</div>
<div class="paragraph">
<p>The previous example shows you how to iterate over a list, but what if you want to access an element at a specific index? As with strings, you can use the array index operator:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def words = ["orange", "sit", "test", "flabbergasted", "honorific"]

assert words[0] == "orange"
assert words[-1] == "honorific"
assert words[words.size() - 1] == "honorific"                         <b class="conum">(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The array index can be an expression, as long as it evaluates to an integer</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>At this point, I can almost hear some Java developers drawing breath to point out a flaw in this example. Surely I should be using the <code>equals()</code> method when comparing strings? Fortunately that&#8217;s not the case with Groovy. The <code>==</code> operator performs a value comparison rather than an object identity one. In other words, it does what any non-developer would expect it to do.</p>
</div>
<div class="paragraph">
<p>Sometimes a list literal isn&#8217;t sufficient and you need to build one dynamically. Consider a method that creates a list of the powers of two, i.e. <em>f(x) = 2<sup>x</sup></em>:</p>
</div>
<div id="powersOfTwo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>List powersOfTwo(int n) {
    def result = []
    for (i in 0..n) {                             <b class="conum">(1)</b>
        result &lt;&lt; 2 ** i                          <b class="conum">(2)</b>
    }

    return result
}

assert powersOfTwo(2) == [1, 2, 4]
assert powersOfTwo(8) == [1, 2, 4, 8, 16, 32, 64, 128, 256]
println "Done!"</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Iterate over squential integers using a range</p>
</li>
<li>
<p>Append a new value to the list</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In this example, we start with an empty list and then add the relevant numbers to it via the <code>&lt;&lt;</code> (left shift) operator. Note that we&#8217;re modifying the list directly rather than creating a new list with the extra element. If you&#8217;d prefer to use a non-mutating approach, you can use <code>+</code> instead:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>...
    for (i in 0..n) {
        result += 2 ** i                          <b class="conum">(1)</b>
    }
...</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Shorthand for <code>result = result + (2 ** i)</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Yes, this approach has a cost in terms of execution speed and memory usage (you&#8217;re creating a new list and copying the existing elements on each iteration), but in many cases it&#8217;s not significant within its context.</p>
</div>
<div class="paragraph">
<p>The <code>+</code> operator can also be used to merge lists, similar to the way it&#8217;s used to concatenate strings:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def l1 = [1, 2, 3]
def l2 = [4, 5, 6]

assert l1 + l2 == [1, 2, 3, 4, 5, 6]
assert l1  == [1, 2, 3]
println "Done!"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The more memory-efficient, mutating approach requires an explicit method call rather than an operator:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def l1 = [1, 2, 3]
l1.addAll([4, 5, 6])

assert l1 == [1, 2, 3, 4, 5, 6]
println "Done!"</code></pre>
</div>
</div>
<div class="paragraph">
<p>I have noticed that some people try to use the <code>&lt;&lt;</code> operator for this, but it doesn&#8217;t work. What you end up with is a 4 element list whose last element is also a list: <code>[1, 2, 3, [4, 5, 6]]</code>. Try it!</p>
</div>
<div class="paragraph">
<p>You can find the <code>addAll()</code> method and others defined on <a href="https://docs.oracle.com/javase/8/docs/api/?java/util/List.html"><code>java.util.List</code></a>. It&#8217;s also worth checking the <a href="https://docs.oracle.com/javase/8/docs/api/?java/util/Collection.html"><code>java.util.Collection</code></a> and <a href="https://docs.oracle.com/javase/8/docs/api/?java/util/Iterable.html"><code>java.util.Iterable</code></a> interfaces too, since <code>List</code> inherits from them.</p>
</div>
<div class="paragraph">
<p>When it comes to sequences, you should always try to use lists where possible as they have the richest API and widest support. They also enable you to take advantage of the Java 8 stream support. Unfortunately, you may still come across APIs that use another type of sequence: arrays.</p>
</div>
<div class="sect2">
<h3 id="_coping_with_arrays">Coping with arrays</h3>
<div class="paragraph">
<p>Many years ago, before Java reached version 1.2, the only built-in support for sequences (other than strings) was the array. Some people still use them for reasons of efficiency, although thats not a common case. The main reason you&#8217;ll encounter them is through using some API, often in the Java class library.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s start with the <a href="https://docs.oracle.com/javase/8/docs/api/?java/lang/String.html"><code>String.split()</code></a> method. I frequently use this to convert a string into a sequence of words, but as you can see from the documentation, it returns an array rather than a list. So what magic do you need in order to process the array? As you can see from the following example, in some cases you don&#8217;t need to do anything:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def words = "Jack Rabbit Slims Twist Contest".split(" ")        <b class="conum">(1)</b>

def minWordLength = Integer.MAX_VALUE
def maxWordLength = 0
def totalLength = 0
for (w in words) {
    minWordLength = Math.min(minWordLength, w.size())
    maxWordLength = Math.max(maxWordLength, w.size())
    totalLength += w.size()
}

println "Min word length:  ${minWordLength}"
println "Max word length:  ${maxWordLength}"
println "Avg word length:  ${totalLength / words.size()}        <b class="conum">(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Returns a String array</p>
</li>
<li>
<p><code>size()</code> method works on arrays</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This code looks no different to the example earlier where we started with a literal list of words. Groovy allows you to treat an array as if it were a list. So you can iterate over it and also use the <code>size()</code> method. Many other Groovy JDK methods work on both lists and arrays too. Yet there are limits to this approach that you will become familiar with.</p>
</div>
<div class="paragraph">
<p>For example, you cannot append to an array. The following will result in a <code>MissingMethodException</code> for <code>leftShift()</code>, a clear sign that the method only applies to lists, not arrays:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def words = "Jack Rabbit Slims Twist Contest".split(" ")
words &lt;&lt; "Test"</code></pre>
</div>
</div>
<div class="paragraph">
<p>That exception is particularly interesting because it hints at how operators such as <code>&lt;&lt;</code> are handled in Groovy. Don&#8217;t worry, I&#8217;ll be coming back to that a little later.</p>
</div>
<div class="paragraph">
<p>In fact, the uniformity that Groovy provides across arrays and lists all happens within the Groovy JDK. Arrays in Java have no methods for you to invoke and they only have one significant field: <code>length</code>. So the best place to look to find out whether you can use a particular method on an array is the Groovy JDK doc for <a href="http://docs.groovy-lang.org/docs/next/html/groovy-jdk/?java/lang/Object" class="bare">http://docs.groovy-lang.org/docs/next/html/groovy-jdk/?java/lang/Object</a>.html[<code>Object[]</code>].</p>
</div>
<div class="paragraph">
<p>Alternatively, you can banish any doubt or confusion by converting the array to a list as soon as possible:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def words = "Jack Rabbit Slims Twist Contest".split(" ") as List    <b class="conum">(1)</b>
words &lt;&lt; "Test"</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Use <code>as</code> to convert an array to a list</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>That <code>as</code> operator is already proving remarkably useful and will continue to do so. And I think this is the safest approach when dealing with arrays that are returned to you. Even if the API suddenly changes and returns a list, your code will continue to work (the <code>as</code> operator will just return the value as is).</p>
</div>
<div class="paragraph">
<p>I&#8217;ve covered the case of a method returning an array, but there is still the question of how to handle methods that require an array as an argument. The solution is simple and relies on a technique I&#8217;ve alread shown you. Do you remember how we got a <code>Character</code> from a <code>String</code>? You can either declare a local variable with the required type or use the <code>as</code> operator. Here&#8217;s an example using <code>as</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def proc = Runtime.getRuntime().exec(["java", "-version"] as String[])
def out = new StringWriter()
def err = new StringWriter()
proc.waitForProcessOutput(out, err)

println err</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you&#8217;ve probably worked out, the array type is the one with the <code>[]</code> suffix. So you can have <code>int[]</code>, <code>Object[]</code>, and so on. One thing you can&#8217;t do is initialize an array using the Java syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>String[] words = new String[] { "orange", "sit", "test", "flabbergasted", "honorific" }
println words</code></pre>
</div>
</div>
<div class="paragraph">
<p>You&#8217;ll get a compilation error if you try. In fact, this is one of the rare cases where standard Java syntax is not valid Groovy.</p>
</div>
<div class="paragraph">
<p>That&#8217;s pretty much all you really need to know about arrays. I&#8217;d like to finish here with just a brief look at the <code>MissingMethodException</code> I mentioned earlier. The full message looks like this:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>groovy.lang.MissingMethodException: No signature of method: [Ljava.lang.String;.leftShift()
is applicable for argument types: (java.lang.String) values: [Test]
        at ConsoleScript9.run(ConsoleScript9:2)</pre>
</div>
</div>
<div class="paragraph">
<p>Look carefully at the method signature. What type does it think <code>leftShift()</code> is being invoked on? Yes, it&#8217;s <code>[Ljava.lang.String;</code>. That looks a bit weird, right? This is the stringified form of the associated array class. You can easily identify arrays by that leading <code>[</code>. The <code>L</code> and trailing <code>;</code> represent an object type. Here are some more examples:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>int[]      =&gt;  [I
Integer[]  =&gt;  [Ljava.lang.Integer;</pre>
</div>
</div>
<div class="paragraph">
<p>I bring this up because it&#8217;s important to recognise what types are involved when you&#8217;re trying to diagnose problems in your code, and Java doesn&#8217;t make it too easy when it comes to arrays!</p>
</div>
<div class="paragraph">
<p>Although sequences are common, they aren&#8217;t the only form of data structure. Sometimes you don&#8217;t care about order but do want to ensure that you don&#8217;t have duplicate elements. That&#8217;s when a set comes in handy. Or you may want a list that is cheap to add elements to. It&#8217;s useful to know how to work with other collection types.</p>
</div>
</div>
<div class="sect2">
<h3 id="_collection_types">Collection types</h3>
<div class="paragraph">
<p>I&#8217;ve already mentioned that lists in Groovy implement <code>java.util.List</code>. That&#8217;s an interface, so what type of list are you actually getting when you use the list literal? It&#8217;s easy to find out in the Groovy console using the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>println([].getClass())</code></pre>
</div>
</div>
<div class="paragraph">
<p>Hopefully you&#8217;ll see <code>class java.util.ArrayList</code> in the output pane. This is possibly the most commonly used list implementation in Java as it&#8217;s cheap to access elements at an arbitrary index (otherwise known as random access). You can find out more about its characteristics in the <a href="https://docs.oracle.com/javase/8/docs/api/?java/util/ArrayList.html">Java API docs</a>.</p>
</div>
<div class="paragraph">
<p>Before I talk about other list implementations, I&#8217;d like to point out a common gotcha with the previous example. In its case, the parentheses for <code>println()</code> are required. Otherwise you get a <code>MissingPropertyException</code> for <code>println</code>. Why? Because Groovy interprets the square brackets in this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>println [].getClass()</code></pre>
</div>
</div>
<div class="paragraph">
<p>as the array index operator, not a list literal. As in <code>people[0].getClass()</code>. If you get into this kind of situation, make sure you fully digest the exception message. It often reveals the source of the problem right away. In this case, the exception makes it clear that Groovy thinks that <code>println</code> is a property, not a method. The quick insertion of parentheses will quickly resolve such cases.</p>
</div>
<div class="paragraph">
<p>Back to list types. Given that there are different implementations, the key question is this: how do you use an alternative implementation to <code>java.util.ArrayList</code>? The answer depends on whether you&#8217;re starting with an existing list or not. Let&#8217;s go back to our list of words, but this time make it a <em>linked list</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def words = ["orange", "sit", "test", "flabbergasted", "honorific"] as LinkedList

println words.getClass()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once again, it&#8217;s the <code>as</code> operator that comes to our rescue. You can of course explicitly declare a local variable as type <code>LinkedList</code> for the same effect.</p>
</div>
<div class="paragraph">
<p>Array lists and linked lists are the two main types of list provided by the core Java class library. You might notice a couple of other implementations lurking in the <code>java.util</code> package too: <code>Vector</code> and <code>Stack</code>. They&#8217;re pretty much legacy, superseded by <code>ArrayList</code> and queues, and you can safely ignore them. If you have specialist requirements, consider third-party libraries, such as <a href="https://github.com/google/guava">Google&#8217;s Guava</a>, that provide alternative list implementations.</p>
</div>
<div class="paragraph">
<p>Java does provided greater variety when it comes to <a href="https://docs.oracle.com/javase/8/docs/api/?java/util/Queue.html"><code>java.util.Queue</code></a> and <a href="https://docs.oracle.com/javase/8/docs/api/?java/util/Deque.html"><code>java.util.Deque</code></a> (double-ended queues) implementations, although Groovy defaults to <code>LinkedList</code> if you coerce a list to <code>Queue</code>. A more distinct collection type is the set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def uniqueNumbers = [3, 3, 1, 1, 2, 2] as Set

assert uniqueNumbers.size() == 3
println uniqueNumbers
println uniqueNumbers.getClass()</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, a <a href="https://docs.oracle.com/javase/8/docs/api/?java/util/Set.html">java.util.Set</a> doesn&#8217;t allow duplicate elements. They typically don&#8217;t care about order either. However, Groovy&#8217;s default implementation (<code>java.util.LinkedHashSet</code>) will reliably print the numbers in the same order as they are declared in the list literal. That&#8217;s because it retains <em>insertion order</em>, so when you iterate over the set, it does it in the order that elements were added to the collection.</p>
</div>
<div class="paragraph">
<p>A more common requirement, especially for numbers and strings, is to use the elements' <em>natural sort order</em>. You can easily create such a set by coercing to the <code>java.util.SortedSet</code> interface:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def uniqueNumbers = [3, 3, 1, 1, 2, 2] as SortedSet

println uniqueNumbers
println uniqueNumbers.getClass()</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will now see the set printed out as <code>[1, 2, 3]</code> with a class of <code>java.util.TreeSet</code>.</p>
</div>
<div class="paragraph">
<p>This isn&#8217;t the only way to get the collection type you want, particularly if you want to start with an empty one. Since the collections are normal Java classes, you can instantiate them directly using the <code>new</code> keyword:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def uniqueNumbers = new HashSet()
uniqueNumbers.addAll([1, 1, 2, -1, 1])

println uniqueNumbers</code></pre>
</div>
</div>
<div class="paragraph">
<p>Interestingly, when I run this script I see the numbers printed in numeric order: -1, 1, 2. Trust me, that&#8217;s a coincidence. The <code>HashSet</code> implementation gives no guarantees as to its iteration order.</p>
</div>
<div class="paragraph">
<p>There&#8217;s just one more type connected with collections that I want to cover: the map, also known as an associative array.</p>
</div>
</div>
<div class="sect2">
<h3 id="_maps">Maps</h3>
<div class="paragraph">
<p>I remember my early C++ days when it was hard to find an existing hash map implementation. I even remember trying to write my own. So it was with some relief that I saw Java came with its own map classes, which I could use with abandon. I haven&#8217;t looked back.</p>
</div>
<div class="paragraph">
<p>Perhaps surprisingly, the <a href="https://docs.oracle.com/javase/8/docs/api/?java/util/Map"><code>java.util.Map</code></a> interface doesn&#8217;t extend <code>java.util.Collection</code>, even though you can think of it as a collection of key-value pairs. For example, consider this script which prints the keys and value of all the entries in a map:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def epics = [VMW: "VMware", MSFT: "Microsoft", AAPL: "Apple"]

for (e in epics) {
    println "${e.key}: ${e.value}"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A map literal looks a lot like a list literal, with the square brackets and comma-separated elements. The key difference is that you have a colon between each key and its value. When you then iterate over a map, each element is an instance of <a href="https://docs.oracle.com/javase/8/docs/api/?java/util/Map.Entry.html"><code>java.util.Map.Entry</code></a>. Note that <code>Entry</code> is defined within the <code>Map</code> interface, making it a nested interface.</p>
</div>
<div class="paragraph">
<p>A closer look at the <code>Entry</code> class shows that there are no <code>key</code> or <code>value</code> fields there, so why does <code>e.key</code> work? The answer lies in Groovy&#8217;s concept of properties. Don&#8217;t worry, I&#8217;ll explain these as soon as I&#8217;ve finished with maps.</p>
</div>
<div class="paragraph">
<p>Iterating over a map is all very well, but one of the main reasons to use such a data structure is so that you can quickly look up the value for a given key. Groovy allows you to do this through the array index operator, using a key instead of an integer. You use the same operator to add or overwrite individual entries:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def epics = [VMW: "VMware", MSFT: "Microsoft", AAPL: "Apple"]
def searchKey = "MSFT"

println epics[searchKey]                                     <b class="conum">(1)</b>

epics[searchKey] = "Micro$oft"
epics["GOOG"] = "Google"                                     <b class="conum">(2)</b>

println epics</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Fetches the value for a given value (returns <code>null</code> if the key doesn&#8217;t exist)</p>
</li>
<li>
<p>Adds another map entry</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Note how I need to use string literals with the array index operator but not in the map literal. That&#8217;s because the literal is a special case in which the key is assumed to be a string literal by default. The example will work just the same if you put quotes around the keys like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def epics = ["VMW": "VMware", "MSFT": "Microsoft", "AAPL": "Apple"]
println epics</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s really just a convenience because string keys are so common in map literals. Of course, not all maps use strings for their keys. What happens if you want your keys to be numbers? That&#8217;s easy because number literals (integers and floating point) work as is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def numberWords = [1: "One", 2: "Two", 3: "Three"]
println numberWords[2]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The downside comes when you want to use a variable (or more specifically its value) as a key. This is a surprisingly rare scenario, but as an example, imagine we have a method that takes a string as an argument and returns a map with that string as a key and its length as the value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def stringAttributes(String str) {
    return [(str): str.size()]                               <b class="conum">(1)</b>
}

println stringAttributes("Hello world!")</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Use the string value as the key, not the literal <code>"str"</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you run the script you should see the output</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[Hello world!:12]</pre>
</div>
</div>
<div class="paragraph">
<p>These basics will get you through the examples in rest of the book, so I want to go back to the question of why <code>e.key</code> works when there is no field on the <code>Map.Entry</code> class with that name. It&#8217;s time to talk about one of the most important concepts in Groovy: properties.</p>
</div>
</div>
<div class="sect2">
<h3 id="_properties">Properties</h3>
<div class="paragraph">
<p>In object-oriented languages, objects can have both state and behavior. That means fields and methods if you&#8217;re writing Java. The trouble with fields is that you can&#8217;t override them, for example to evaluate their values on demand. So Groovy introduces an additional form of state: the property. The basic idea is that properties are accessed through two methods whose signatures follow a specific convention:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;property type&gt; get&lt;PropertyName&gt;()
void set&lt;PropertyName&gt;(&lt;property type&gt; val)</pre>
</div>
</div>
<div class="paragraph">
<p>These are known as the <em>getter</em> and <em>setter</em> methods, or simply getters and setters. So in the case of the <code>Map.Entry</code> class, you have a <code>getKey()</code> method that corresponds to a property named <code>key</code>, and <code>getValue()</code> and <code>setValue()</code> methods that represent a <code>value</code> property.</p>
</div>
<div class="paragraph">
<p>So how do you map the method names to the equivalent property names? The rules are based on the <a href="http://www.oracle.com/technetwork/java/javase/documentation/spec-136004.html">JavaBeans specification</a>, but it&#8217;s probably easiest to understand through some examples. Here&#8217;s a table mapping method names to property names:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Property name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getKey()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>key</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getFullName()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fullName</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getLine1Address()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>line1Address</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>isHidden()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hidden</code> (only valid for boolean properties)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getURLScheme()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>URLScheme</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>As you can see, the basic rule is to remove the leading "get" and then lower case the first letter of what&#8217;s left. The only case in which this rule doesn&#8217;t hold is when the first two letters of what&#8217;s left are both upper case. The property name is the samme as the method name in this situation (minus the "get"). It&#8217;s also worth pointing out that boolean properties can use a getter or an <code>is&lt;PropertyName&gt;()</code> method.</p>
</div>
<div class="paragraph">
<p>The <code>Map.Entry</code> example raises another question. What happens when there is a getter but no setter, as is the case with <code>Entry.getKey()</code>? To demonstrate, I&#8217;m going to bring in the <code>File</code> class and try to change the name of the file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def f = new File("test.txt")
println f.name

f.name = "new.txt"
println f.name</code></pre>
</div>
</div>
<div class="paragraph">
<p>Running this will print out "test.txt" as expected, but you&#8217;ll see an exception following on swiftly:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>groovy.lang.ReadOnlyPropertyException: Cannot set readonly property: name for class: java.io.File
        at ConsoleScript9.run(ConsoleScript9:4)</pre>
</div>
</div>
<div class="paragraph">
<p>So if you have a getter without a corresponding setter, you end up with a read-only property. This can be particularly useful for properties that are calculated on demand and have no corresponding field to store the state.</p>
</div>
<div class="paragraph">
<p>You can of course still access the methods as methods. You don&#8217;t have to use property syntax. The above example then becomes</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def f = new File("test.txt")
println f.getName()

f.setName("new.txt")
println f.getName()</code></pre>
</div>
</div>
<div class="paragraph">
<p>This time, though, you&#8217;ll get a <code>MissingMethodException</code>. Otherwise the script behaves as before.</p>
</div>
<div class="paragraph">
<p>I generally prefer property syntax over using the methods directly because the code looks cleaner and more readable, which I find very valuable. One of the few time I prefer using a getter method explicitly is with the ubiquitous <code>getClass()</code>, which tells you the type of an object. The reason for that is because of what happens when you use property syntax on a map:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def map = [:]                                                <b class="conum">(1)</b>
println map.class
println map.getClass()</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>This is an empty map. The colon distinguishes it from an empty list.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You&#8217;ll see that the script first prints <code>null</code> before then displaying the full type of the map on the next line. That&#8217;s because Groovy adds special behavior to <code>Map</code> that overrides the default property access. So the second line of the script looks for a key named "class", doesn&#8217;t find it, and returns <code>null</code>. I&#8217;ve been caught out by this more times than I can recount, so I just use <code>getClass()</code> explicitly.</p>
</div>
<div class="paragraph">
<p>Speaking of property syntax and maps, let&#8217;s take a look at a previous map example, replacing the array index operator with property access:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def epics = [VMW: "VMware", MSFT: "Microsoft", AAPL: "Apple"]
println epics.MSFT

epics.GOOG = "Google"
println epics</code></pre>
</div>
</div>
<div class="paragraph">
<p>Whether you use the array index operator or property syntax depends on your own preferences. I typically use the former if I know that I&#8217;m dealing with a map. However, property syntax can be useful if the target object could be a map or another type entirely. I&#8217;ll explain how this works when I dive into the dynamic nature of standard Groovy. Other developers prefer the property syntax because it&#8217;s less noisy and easier to type (my little finger certainly struggles with the square brackets on a US keyboard).</p>
</div>
<div class="paragraph">
<p>You&#8217;ve now been introduced to the core types in Groovy, which will set you in good stead for future examples. It&#8217;s hard to code without strings, collections, or maps! I just want to finish off this chapter with a more complete example that you can play with, based on Pig Latin.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chapter_example">Chapter example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you&#8217;re not familiar with Pig Latin, it&#8217;s a technique for obfuscating English words so that they aren&#8217;t instantly recognisable. The rules I&#8217;ll follow are fairly straightforward:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If a word begins with a consonant, I move the starting consonants to the end of the word and then add an "ay" suffix.</p>
<div class="literalblock">
<div class="content">
<pre>For example, "happy" becomes _appyhay_ and "glove" becomes _oveglay_.</pre>
</div>
</div>
</li>
<li>
<p>If a word begins with a vowel or a silent letter, then I simply add "way" as a suffix.</p>
<div class="literalblock">
<div class="content">
<pre>For example, "egg" becomes _eggway_ and "eight" becomes _eightway_.</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can find out more information about Pig Latin <a href="http://en.wikipedia.org/wiki/Pig_Latin">on Wikipedia</a>. It&#8217;s mostly just a game that people play. So how do we go about implementing such a thing?</p>
</div>
<div class="paragraph">
<p>Let&#8217;s start with a script that has a method for doing the conversion plus a bunch of assertions to verify that it works correctly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>String pigLatinize(String text) {
    return ""
}

assert pigLatinize("happy") == "appyhay"
assert pigLatinize("egg") == "eggway"
assert pigLatinize("hello earth") == "ellohay earthway"</code></pre>
</div>
</div>
<div class="paragraph">
<p>As it stands, running this script will result in an assertion error. It&#8217;s kind of obvious because the method always returns an empty string. I&#8217;m just trying to take the Test Driven Development (TDD) approach!</p>
</div>
<div class="paragraph">
<p>The logic for the conversion is deceptively simple (if we ignore the hard cases):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Split the text into individual words</p>
</li>
<li>
<p>Convert each word</p>
<div class="ulist">
<ul>
<li>
<p>If the word starts with a series of consonants, place them at the end</p>
</li>
<li>
<p>Add an 'ay' suffix</p>
</li>
</ul>
</div>
</li>
<li>
<p>Recombine the words into a single string</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Before we start, though, consider how we are going to do the split and merge. We ideally want to retain all the characters between words and make sure that they get merged back in at the right places. Another thing to consider is whether we want to handle hyphens or other characters that can occur in words. Dealing with strings is rarely easy.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take a quick and dirty approach: split the text on word boundaries using a regular expression. That will at least retain the characters between words, ensuring that they appear in the result. We may still have trouble with some bits of text, but t will work as a simple demonstration. You can experiment with other approaches as you see fit! Here&#8217;s my suggested implementation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>String pigLatinize(String text) {
    def wordsAndSeparators = text.split(/\b/)                <b class="conum">(1)</b>
    def pigLatinWords = []
    for (str in wordsAndSeparators) {
        if (Character.isLetter(str[0] as char)) {            <b class="conum">(2)</b>
            pigLatinWords &lt;&lt; pigLatinizeWord(str)
        }
        else {
            pigLatinWords &lt;&lt; str
        }
    }
    return pigLatinWords.join("")                            <b class="conum">(3)</b>
}

String pigLatinizeWord(String word) {
    def leadingConsonants = leadingConsonants(word)
    return (word - leadingConsonants) + (leadingConsonants ?: 'w') + "ay"
}

String leadingConsonants(String word) {
    def vowels = ["a", "e", "i", "o", "u"] as Set
    def firstVowelIndex = 0
    for (ch in word) {
        if (ch in vowels) {
            break                                            <b class="conum">(4)</b>
        }
        firstVowelIndex++
    }

    return word.substring(0, firstVowelIndex)
}

assert pigLatinize("happy") == "appyhay"
assert pigLatinize("egg") == "eggway"
assert pigLatinize("hello earth") == "ellohay earthway"
println "Done!"</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Breaks text into a list of words using the JDK method <code>String.split()</code></p>
</li>
<li>
<p>Only pig latinize words that start with a letter</p>
</li>
<li>
<p>Merge the list of words into a single string</p>
</li>
<li>
<p>Break out of the loop once we hit a vowel</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Have fun with the example! The only features that I haven&#8217;t covered so far are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>break</code> can be used to prematurely stop a <code>for</code> loop.</p>
</li>
<li>
<p><code>?:</code> is a special operator which uses the value on the left hand side if it&#8217;s not <code>null</code> or an empty string. Otherwise you get the right hand side instead. It&#8217;s useful for default values: if this expression is already a valid value, use that, otherwise use this default value. It&#8217;s often referred to as the Elvis operator.</p>
</li>
<li>
<p><code>/&#8230;&#8203;/</code> is a special string delimiter like <code>'&#8230;&#8203;'</code> and <code>"&#8230;&#8203;"</code>. It&#8217;s behavior is identical to double-quoted strings except you don&#8217;t need to escape the "\" character. It&#8217;s particularly useful with regular expressions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the next chapter, I want to take the foundations set out in the first two chapters and use them to start doing some practical work with scripts, making use of other Java types and libraries.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-08-15 07:18:37 BST
</div>
</div>
</body>
</html>