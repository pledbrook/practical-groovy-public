<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.0">
<title>First steps</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic|Noto+Serif:400,400italic,700,700italic|Droid+Sans+Mono:400">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic|Noto+Serif:400,400italic,700,700italic|Droid+Sans+Mono:400";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-check-square-o:first-child,ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after,a[href^="mailto:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{font-weight: normal}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#00}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book">
<div id="header">
<h1>First steps</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In the tech world, it&#8217;s fairly common to hear the phrase "yak shaving". This represents the kind of situation in which you end up doing a lot of setup work in order to achieve what you originally intended. In the case of Groovy, it normally entails installing the Java Development Kit if you haven&#8217;t already done so, followed by Groovy itself. Fortunately, you can bypass all that by using the Groovy Web Console, which is a browser-based application for executing Groovy scripts.</p>
</div>
<div class="paragraph">
<p>You can find the app at the address <a href="http://groovyconsole.appspot.com/" class="bare">http://groovyconsole.appspot.com/</a>. You should see the page shown in figure 1.1.</p>
</div>
<div class="paragraph">
<p>The text editor component allows you to write Groovy that you can then execute. Try it now by entering the code</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>12 + 5</code></pre>
</div>
</div>
<div class="paragraph">
<p>and clicking on the Execute script link. You&#8217;ll see the result "17" displayed in the Result tab.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s now try the classic Hello World example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>println "Hello world!"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now when you execute the script you&#8217;ll see the "Hello world!" text displayed in the Output tab. What&#8217;s the difference between the two tabs? The Result tab displays the value of the last expression in the script, whereas the Output tab displays anything that would normally go to the terminal or command prompt (stdout in C parlance). You can test this out by adding the "12 + 5" line to the end of the Hello World script: you should see something in both the Result tab and the Output tab.</p>
</div>
<div class="paragraph">
<p>At this point, you have two choices:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Continue with the Groovy Web Console for now and skip to section TODO</p>
</li>
<li>
<p>Read the next section on installing Groovy on your own computer</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You will want to install Groovy at some point and it&#8217;s usually a straightforward process. On the other hand, it is an extra step that you may not need just to get started with the language. If you want to be able to work offline or run scripts locally, then you should definitely install Groovy now. Otherwise either option is fine.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_groovy">Installing Groovy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before I explain how to install and set up Groovy, consider this: why would you need to install anything? This is an important question as you don&#8217;t necessarily need a Groovy installation in order to develop with Groovy. Build tools and IDEs can quite happily compile Groovy source files without one. What you absolutely must have, though, is a Java runtime installed.</p>
</div>
<div class="paragraph">
<p>The Java platform comes in several forms, but for the sake of simplicity I want to focus on two of them: the Java Runtime Environment (JRE) and the Java Development Kit (JDK). The first of these allows you to run Java applications and applets (those things that run in a browser and require the Java plugin). The JDK allows you to build Java applications, as well as run them, and it&#8217;s the best option for a Groovy developer.</p>
</div>
<div class="paragraph">
<p>To get hold of the JDK, head to the <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">download page</a> on Oracle&#8217;s website and follow the links. Remember, you only need the basic JDK for your platform. Once you have downloaded the package and installed the JDK (I recommend using an installation path without spaces), you just need to set up an environment variable:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>JAVA_HOME=&lt;path to JDK&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>If you&#8217;re unsure how to do this, a simple web search for "setting environment variable" combined with your platform will produce plenty of links to help out.</p>
</div>
<div class="paragraph">
<p>That&#8217;s all you need as far as the Java side goes. So what about Groovy? You&#8217;ll need to install it for the purposes of this book because you will need access to the associated tools, in particular the Groovy console. You also need a Groovy installation if you want to run standalone scripts, which comes in very handy.</p>
</div>
<div class="paragraph">
<p>You can install Groovy in a number of ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On Windows, <a href="http://groovy-lang.org/download.html">download and run the installer</a>.</p>
</li>
<li>
<p>On Mac OS X, you can use Homebrew or MacPorts: <code>brew install groovy</code> or <code>sudo port install groovy</code>.</p>
</li>
<li>
<p>On all platforms that have Bash, including Cygwin, you can use the <a href="http://gvmtool.net/">Groovy Environment Manager (GVM)</a>, which allows you to install multiple versions of Groovy as well as other tools such as Grails and Gradle.</p>
</li>
<li>
<p>Alternatively, download the platform-agnostic binary distribution, unpack it, and manually set up the necessary environment variables.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>My preferred option is GVM as it makes installing Groovy trivially easy and new versions of Groovy (including beta and other milestone releases) become available through it promptly. The fact you can have different versions of Groovy active in different terminals is an added bonus.</p>
</div>
<div class="paragraph">
<p>Whichever approach you take, you will end up with a <code>GROOVY_HOME</code> environment variable containing the location of the current Groovy installation. Your <code>PATH</code> environment variable will also include the path to the Groovy installation&#8217;s 'bin' directory, since that&#8217;s where all the useful tools are. You can verify the installation by running</p>
</div>
<div class="literalblock">
<div class="content">
<pre>groovy -e "println 'Hello'"</pre>
</div>
</div>
<div class="paragraph">
<p>in a terminal. If everything is working, this will println the line "Hello" to the terminal. If you instead get an error message about the <code>groovy</code> command not being found, then check your <code>PATH</code> environment variable as it&#8217;s probably not initialized properly.</p>
</div>
<div class="paragraph">
<p>So what does a Groovy installation give you? The main tools of interest are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>groovy</code> - allows you to run Groovy scripts from the command line.</p>
</li>
<li>
<p><code>groovysh</code> - starts an interactive shell for executing Groovy statements.</p>
</li>
<li>
<p><code>groovyConsole</code> - starts a desktop version of the Groovy Web Console, with syntax highlighting in the editor pane.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You will start with the Groovy console as it&#8217;s the easiest way to learn Groovy through practice. Just start it up with the command</p>
</div>
<div class="literalblock">
<div class="content">
<pre>groovyConsole</pre>
</div>
</div>
<div class="paragraph">
<p>and you&#8217;ll then see the window shown in figure 1.3 TODO.</p>
</div>
<div class="paragraph">
<p>The Groovy console has several options available, including loading and saving scripts as well as the standard cut, copy and paste. The most important options are</p>
</div>
<div class="ulist">
<ul>
<li>
<p>View &gt; Clear Output - clears the output pane of any existing text from previous script executions.</p>
</li>
<li>
<p>View &gt; Show Script in Ouput - enabled by default, you should uncheck this so that the output pane isn&#8217;t polluted with the text of the script itself.</p>
</li>
<li>
<p>Script &gt; Run - executes the script.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>I recommend you remember the keyboard shortcuts for clearing the output pane and executing the script as you&#8217;ll be using them a lot.</p>
</div>
<div class="paragraph">
<p>You&#8217;re now all set to start coding.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_groovy_as_a_calculator">Groovy as a calculator</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I&#8217;m sure your OS has a calculator app, as do most smartphones. Still, using Groovy as a calculator is a gentle way to introduce some of the basic syntax and semantics of the language. You already saw a simple addition. What happens if you now try</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>13 + 3 / 4</code></pre>
</div>
</div>
<div class="paragraph">
<p>? In most programming languages you would end up with the result 13.75 (although Java would give you 13), and that&#8217;s exactly what you get with Groovy. In other words, the division has occurred first. To do the sum first, use parentheses to control the order in which the operators are evaluated:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>(13 + 3) / 4</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above results in 4. Groovy supports all the usual suspects when it comes to arithmetic operators, such as <code>-</code> (subtract), <code>*</code> (multiply), and <code>%</code> (modulo). Unlike Java, it also supports an exponentiation operator:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>2 ** 8</code></pre>
</div>
</div>
<div class="paragraph">
<p>This gives the result of two to the power of 8. If, like me, you&#8217;ve spent too much time in the past using Visual Basic, note that <code>^</code> does <em>not</em> perform an exponentiation. It&#8217;s the XOR bitwise operator. You can see a complete list of operators in appendix A.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s now introduce some verification into the calculations. First, here is a simple equality comparison:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>8 + 4 == 12</code></pre>
</div>
</div>
<div class="paragraph">
<p>The result now is a word: <code>true</code>. This is a literal boolean value whose counterpart, as you&#8217;d expect, is <code>false</code>.</p>
</div>
<div class="paragraph">
<p>To verify that the expression does indeed result in <code>true</code>, you can prefix it with the keyword <code>assert</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>assert 8 + 4 == 12</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you run this, nothing different appears to happen. But what if the expression doesn&#8217;t evaluate to <code>true</code>? Try</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>assert 8 + 4 == 11</code></pre>
</div>
</div>
<div class="paragraph">
<p>The expression is obviously now false and this time you see an error message:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Assertion failed:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>assert 8 + 4 == 11
         |   |
         12  false</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>at ConsoleScript6.run(ConsoleScript6:1)</pre>
</div>
</div>
<div class="paragraph">
<p>What&#8217;s interesting about this error is that it shows the values of all parts of the expression, including both the left hand and right hand sides. As you might imagine, this makes it relatively easy to diagnose problems in your code. Assertions are particularly useful in unit tests and other verification-based scenarios.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s now try out the Pythagorean Theorem. You do remember that from school, don&#8217;t you? In case it&#8217;s been too long, it states that the square of the hypotenuse of a right-angled triangle is equal to the sum of the squares of the other two sides. In code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def a = 3
def b = 4
def result = Math.sqrt(a ** 2 + b ** 2)

assert result == 5
println result</code></pre>
</div>
</div>
<div class="paragraph">
<p>This little example introduces some new concepts and syntax. First, it declares and uses a few local variables using the keyword <code>def</code>. Variables declared in this way can contain values of any type, not just numbers. In other wirds, the variables are untyped.</p>
</div>
<div class="paragraph">
<p>The second item of interest is the <code>sqrt()</code> method call. The syntax is absolutely identical to Java&#8217;s and in this case you&#8217;re seeing a <em>static</em> method. This is called on the class itself (<code>lava.lang.Math</code>) rather than on an instance of that class.</p>
</div>
<div class="paragraph">
<p>Last, but not least, the assertion fails to throw an error despite <code>result</code> being a floating point number. Groovy&#8217;s <code>==</code> operator is largely value based so that <code>5</code> and <code>5.0</code> are considered the same despite being different types. This particular behavior is quite different to that of Java, which is very strict on equality.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s another example with some more method calls. It takes a hexidecimal string, converts it to an integer, divides that value by 2 (using integer division) and then prints out the hexidecimal representation of the result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def n = Integer.parseInt("ED59", 16)
n = n.intdiv(2)
println Integer.toHexString(n)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output is simply the string "76ac". Hexidecimal representations are fairly common in our line of work, so it&#8217;s useful to know that you can easily transform them to and from integers.</p>
</div>
<div class="paragraph">
<p>The above example looks unassuming, but it highlights a common struggle with Groovy: where do these methods come from? And where are they documented? To answer those questions, you first need to know what type you&#8217;re dealing with. With static methods that&#8217;s straightforward as you can see the type directly (<code>Integer</code> in the above example, which is short for <code>java.lang.Integer</code> - the fully qualified class name). It&#8217;s not much harder for instance methods as you can always see the type of an object by calling the method <code>getClass()</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>println 10.getClass()
println 1.2.getClass()
println "Hello".getClass()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Executing this simple script results in the following output:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>class java.lang.Integer
class java.math.BigDecimal
class java.lang.String</pre>
</div>
</div>
<div class="paragraph">
<p>All three types are part of the core Java class library, which is fantastic if you already know Java. (And if you already know Java, you might be surprised at the floating point type - I&#8217;ll talk about that soon TODO). What this means for you is that you&#8217;ll need to bookmark the <a href="https://docs.oracle.com/javase/8/docs/api/">Java API documentation</a> when coding in Groovy. You&#8217;ll find the <code>parseInt()</code> and <code>toHexString()</code> methods described under <code>java.lang.Integer</code>. What you won&#8217;t find is the <code>intdiv()</code> method.</p>
</div>
<div class="paragraph">
<p>What? Where does that come from then? One thing you have to remember is that one of Groovy&#8217;s aims is to be as close to Java as possible while providing user-friendly features. What this means in practice is that Groovy extends the core Java class library with methods and properties that it thinks are particularly useful. <code>intdiv()</code> is one of those methods and you can find it nestled away in the <a href="http://groovy-lang.org/docs/latest/html/groovy-jdk/">Groovy JDK documentation</a>.</p>
</div>
<div class="paragraph">
<p>The Groovy JDK is the name given to all the extra properties and methods that Groovy adds to the core Java classes. The layout of the documentation is similar to that of the Java API docs, and so you just need to select the Java class you&#8217;re interested in to see what Groovy adds. Look under <a href="http://docs.groovy-lang.org/docs/next/html/groovy-jdk/?java/lang/Number.html"><code>java.lang.Number</code></a> (the super class of <code>Integer</code>) and you&#8217;ll find <code>intdiv()</code>. Unfortunately it&#8217;s not always obvious which type to look at for any given property or method, but it becomes easier as you get to know both Groovy and the Java class library.</p>
</div>
<div class="paragraph">
<p>There may be something nagging you by this point. All the method calls, such as <code>getClass()</code> and <code>sqrt()</code>, have parentheses. So what about <code>println()</code>? Isn&#8217;t that a method call too? If so, where are the parentheses?</p>
</div>
<div class="paragraph">
<p><code>println()</code> is indeed a method call, equivalent to <code>System.out.println()</code> in Java. Unlike any other method, though, it can be called as if it were a global function. It doesn&#8217;t need to be called on an object or class like all other methods. As for the lack of parentheses, Groovy doesn&#8217;t require them in certain circumstances. It&#8217;s too early in your Groovy career to discuss exactly what those circumstances are, so for the moment, use parentheses for all method calls and only leave them out for <code>println()</code> calls.</p>
</div>
<div class="paragraph">
<p>One important point to be aware of is that the parentheses are required if you don&#8217;t pass any arguments to <code>println()</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>println "Hello"
println()
println "Goodbye"</code></pre>
</div>
</div>
<div class="paragraph">
<p>What happens if you don&#8217;t have parentheses? Try it out:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>println "Hello"
println
println "Goodbye"</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will now see an error message rather than the "Goodbye" text:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>groovy.lang.MissingPropertyException: No such property: println for class: hello-goodbye</pre>
</div>
</div>
<div class="paragraph">
<p>Note the class name of the exception: <code>MissingPropertyException</code>. Groovy is looking for a <em>property</em> called <code>println</code>, not a method. I&#8217;ll come to properties soon, but for completeness, try this example where the parentheses are included but the method name is incorrect:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>println "Hello"
print1n()
println "Goodbye"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This time, you will see a different error:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>groovy.lang.MissingMethodException: No signature of method: hello-goodbye.print1n()
➥ is applicable for argument types: () values: []
Possible solutions: println(), println(), println(java.lang.Object),
➥ println(java.lang.Object), println(java.io.PrintWriter), print(java.lang.Object)
        at hello-goodbye.run(hello-goodbye.groovy:2)</pre>
</div>
</div>
<div class="paragraph">
<p>Note how Groovy is stating that it can&#8217;t find a method this time. It also rather handily displays a list of known methods that are a close match to the unknown method name just in case you have a simple typo or can&#8217;t remember the correct name properly. You should always read the exception messages carefully as they are tremendously useful in determining why something isn&#8217;t working.</p>
</div>
<div class="paragraph">
<p>Another interesting facet of the language is that you&#8217;re seeing runtime errors for unknown methods and properties. This is because Groovy resolves properties and methods at runtime by default rather than at compile time. This can be changed, as you&#8217;ll see in chapter TODO. You can also make use of this runtime resolution to do interesting things such as creating builders (chapter TODO) or mock objects (chapter TODO).</p>
</div>
<div class="paragraph">
<p>Let&#8217;s return to the world of numbers and look at some more examples. In the following script, I perform a floatingpoint multiplication repeatedly and time how long it takes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def start = System.currentTimeMillis()  <b class="conum">(1)</b>
def n = 100.0
for (i in 0..&lt;100000) {             <b class="conum">(2)</b>
    n = n * 0.95
}

println "n = ${n}"                      <b class="conum">(3)</b>
println "Time taken: ${(System.currentTimeMillis() - start)}ms"</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Gets the current number of milliseconds since the Unix epoch (1st Jan 1970)</p>
</li>
<li>
<p>Iterates over the integers 0 to 100,000</p>
</li>
<li>
<p>Displays the value of <code>n</code> within this string</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Ignore the <code>for</code> loop and <code>println()</code> statements for the moment and just focus on the results of executing the script. First, the number it displays is ridiculously long. When you run it, you&#8217;ll see what I mean. Second, it takes a while to finish - around 2.5 seconds on my laptop. Now add a <code>D</code> suffix to the literal <code>100.0</code> and run the script again:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>...
def n = 100.0D
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>This time the number is significantly shorter and, more to the point, different. The script also finishes much faster - 33ms for me. What&#8217;s going on? It all boils down to the number types being used. When you look at the classes behind the two number literals:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>println 100.0.getClass()
println 100.0D.getClass()</code></pre>
</div>
</div>
<div class="paragraph">
<p>you will see that the first value is of type <code>java.math.BigDecimal</code>, while the second one is a <code>java.lang.Double</code>. <code>Double</code> allows for fast calculations at the cost of accuracy, while <code>BigDecimal</code> is accurate at the cost of speed. In fact, <code>Double</code> cannot represent the final result because it&#8217;s too small.</p>
</div>
<div class="paragraph">
<p>As you can guess from running these scripts, Groovy defaults to <code>BigDecimal</code> for floating point literals, which ensures accuracy. This behavior may bother some of you, but it&#8217;s not a big deal. As you can see, it&#8217;s easy to turn floating point literals into <code>Double</code>s through a simple suffix if you have the need for speed.</p>
</div>
<div class="paragraph">
<p>Integer numbers also show some interesting effects. Consider this example for calculating factorials:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def factorial(n) {                            <b class="conum">(1)</b>
    return n == 1 ? 1 : n * factorial(n - 1)  <b class="conum">(2)</b>
}

println factorial(10)</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Declares a new function called "factorial"</p>
</li>
<li>
<p>Uses the ternary operator ('&lt;condition&gt; ? &lt;value1&gt; : &lt;value2&gt;') for a conditional result</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>A quick work on the implementation before we look at the behavior of this script. The easiest way to implement the factorial algorithm is via recursion, and for that you need functions. As you can see from the example, Groovy allows you to define functions in a script using the syntax</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;return type&gt; &lt;method name&gt;(&lt;type&gt; &lt;arg&gt;[, &lt;type&gt; &lt;arg&gt;,...]) {
    &lt;method body&gt;
}</pre>
</div>
</div>
<div class="paragraph">
<p>This is also the basic syntax for defining methods within classes, as you&#8217;ll see later. As with the local variables earlier, the <code>factorial()</code> function doesn&#8217;t specify an explicit type for its return value, using <code>def</code> instead. Once defined, you can then call the function from anywhere inside the script.</p>
</div>
<div class="paragraph">
<p>You might notice that <code>factorial()</code> doesn&#8217;t specify a type for its argument. Nor does it use <code>def</code>. That&#8217;s because method arguments are a special case that don&#8217;t require <code>def</code> if they are untyped. If you forget this, don&#8217;t worry: Groovy happily accepts <code>def</code> in front of method arguments. It&#8217;s just unusual amongst more experienced Groovy developers.</p>
</div>
<div class="paragraph">
<p>Executing the factorial script behaves as you&#8217;d expect, displaying the value 3628800 (everyone knows the factorial of 10, right?). But what if I pass a floating point number to the <code>factorial()</code> function instead?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>...
println factorial(10.5)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ouch! Now when you run this you&#8217;ll see an ugly <code>StackOverflowError</code>. That&#8217;s because the recursion only stops when <code>n</code> becomes 1, which never happens if the initial argument is not an integer. So if the function only works with integers, can we specify that as a constraint? Indeed we can. Change the signature of the method to</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def factorial(int n) {
    ...
}
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The argument is now <em>typed</em>. If you attempt to call the <code>factorial()</code> method with an argument of 10.5 now, you&#8217;ll get a <code>MissingMethodException</code> because Groovy can&#8217;t find a method whose signature accepts floating point numbers. You&#8217;re still seeing a runtime error though, as Groovy doesn&#8217;t perform a compile-time check even though we have specified the types.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Primitive vs object types</div>
<div class="paragraph">
<p>I guess now is as good a time as any to explain why <code>int</code> rather than <code>Integer</code>. Java has the concept of primitive types and object types. Primitive types, such as <code>int</code>, <code>double</code>, etc., are not objects and so you can&#8217;t call methods on them. Nor can they have a value of <code>null</code>. On the plus side, they allow for faster calculations.</p>
</div>
<div class="paragraph">
<p>Groovy has inherited primitive types from Java, but it treats them differently. In fact, the only difference between the primitive and object types is that the former can&#8217;t be <code>null</code>. You can access properties and methods on primitive types just as you can on object types. Because of that, I tend to use the primitive types. It&#8217;s more habit than anything else. That said, it makes sense for <code>factorial()</code> to use the primitive type as the algorithm can&#8217;t handle <code>null</code> values anyway.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Are you happy with the implementation of <code>factorial()</code> as it stands? I&#8217;m not. To understand why, try using a value of 17:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>...
println factorial(17)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Were you expecting a negative number? Whether you were or not, it&#8217;s certainly not correct. The reason for this is that <code>int</code> and <code>Integer</code> can only store integers up to a size of 2<sup>31</sup>. If your value goes beyond that, then you end up with something called <em>integer overflow</em>.</p>
</div>
<div class="paragraph">
<p>You can force Groovy to use a wider integer type by changing the specified type. Long integers are 64 bit, so that will allow us to calculate larger factorials:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def factorial(long n) {
    ...
}
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unfortunately, it&#8217;s not long before you hit integer overflows again. Just try using a value of 21! The result is negative yet again. This is one occasion where the <code>java.math.BigInteger</code> type is particularly useful. It can handle integers of almost any size. As with <code>BigDecimal</code>, it&#8217;s not as fast as using the core types, but it&#8217;s speedy enough for many cases:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>def factorial(BigInteger n) {
    return n == 1 ? 1 : n * factorial(n - 1)
}

println factorial(234)</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can declare types for local variables and method return values, not just method arguments. Groovy will automatically coerce values to the required type. If a particular coercion isn&#8217;t supported, then you get a runtime error. Type coercion has a lot of subtleties to it, so there&#8217;s a dedicated section for it in chapter TODO.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-02-03 09:00:29 GMT
</div>
</div>
</body>
</html>